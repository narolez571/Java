<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
    "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
    
    <!--============================ 
    ========= HANDLER MAPPERS ======
    =============================-->
    <bean id="simpleUrlMapping"
        class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="order">
            <value>0</value>
        </property>
        <property name="mappings">
            <props>
                <prop key="/home.htm">homePageController</prop>
                <prop key="/rantsForVehicle.htm">rantsForVehicleController</prop>
                <prop key="/rantsForDate.htm">rantsForDateController</prop>
                <prop key="/addRant.htm">addRantController</prop>
                <prop key="/register.htm">registerMotoristController</prop>
            </props>
        </property>
    </bean>
    
    <bean id="beanNameUrlMapping"
        class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping">
        <property name="order">
            <value>1</value>
        </property>
    </bean>
    
    
    <!--============================ 
    =========== HANDLERS ===========
    =============================-->
    <bean id="simpleHandler"
        class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>
    
    <bean id="throwawayHandler"
        class="org.springframework.web.servlet.mvc.throwaway.ThrowawayControllerHandlerAdapter"/>
    
    
    <!--============================
    ========= CONTROLLERS ==========
    ===========================-->
    <bean id="homePageController"
        class="org.suggs.sandbox_webapps.springmvctest.controller.HomePageController">
        <property name="rantService" ref="rantService"/>
    </bean>
    
    <bean id="rantsForVehicleController"
        class="org.suggs.sandbox_webapps.springmvctest.controller.RantsForVehicleController">
        <property name="rantService" ref="rantService"/>
    </bean>
    
    <bean id="addRantController"
        class="org.suggs.sandbox_webapps.springmvctest.controller.AddRantFormController">
        <property name="formView" value="addRant"/>
        <property name="successView" value="rantAdded"/>
        <property name="rantService" ref="rantService"/>
        <property name="validator">
            <bean
                class="org.suggs.sandbox_webapps.springmvctest.validator.RantValidator"/>
        </property>
    </bean>
    
    <bean id="registerMotoristController"
        class="org.suggs.sandbox_webapps.springmvctest.controller.MotoristRegistrationController">
        <property name="rantService" ref="rantService"/>
        <property name="pages">
            <list>
                <value>motoristDetailForm</value>
                <value>motoristVehicleForm</value>
                <value>motoristConfirmation</value>
                <value>redirect:home.htm</value>
            </list>
        </property>
    </bean>
    
    <bean id="rantsForDateController"
        class="org.suggs.sandbox_webapps.springmvctest.controller.RantsForDateController"
        singleton="false">
        <property name="rantService" ref="rantService"/>
    </bean>
    
    
    <!--============================ 
    ========= VIEW RESOLUTION ====== 
    =============================-->
    <bean id="viewResolver"
        class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix">
            <value>/WEB-INF/view/</value>
        </property>
        <property name="suffix">
            <value>.jsp</value>
        </property>
    </bean>
    
    
    <!--============================ 
    ====== EXCEPTION HANDLING ====== 
    =============================-->
    <bean id="exceptionResolver"
        class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
        <property name="exceptionMappings">
            <props>
                <prop key="java.lang.Exception">friendlyError</prop>
            </props>
        </property>
    </bean>
    
</beans>